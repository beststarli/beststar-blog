---
title: 128.最长连续序列
description: 给定一个未排序的整数数组nums ，找出数字连续的最长序列（不要求序列元素在原数组中连续）的长度。
sidebar_position: 5
tags: [LeetCode,哈希,中等]
date: 2026-01-10
---

# 最长连续序列
给定一个未排序的整数数组`nums` ，找出数字连续的最长序列（不要求序列元素在原数组中连续）的长度。

请你设计并实现时间复杂度为`O(n)`的算法解决此问题。

示例1：
- **输入**：nums = [100,4,200,1,3,2]
- **输出**：4
- **解释**：最长数字连续序列是 [1, 2, 3, 4]。它的长度为 4。

示例2：
- **输入**：nums = [0,3,7,2,5,8,4,6,0,1]
- **输出**：9

示例3：
- **输入**：nums = [1,0,1,2]
- **输出**：3

## 解题思路
### 个人题解
#### 1.先排序再遍历更新
:::warning 题目要求
本题要求“**请你设计并实现时间复杂度为`O(n)`的算法解决此问题。**”本思路不可作为正式题解。 
:::
这个思路最重要的是首先对输入的一维数字数组进行**升序排序**，再通过一次循环遍历数组内相邻数字大小通过临时最大长度的增加和置零来逐步更新得到最大连续长度，最后返回这个最大值即可。需考虑输入为空数组以及数组内元素去重，这个思路的关键在于想到通过`nums.sort((a, b) => a - b)`实现数组内数字的升序排序。

时间复杂度：O(nlogn)
```ts
function longestConsecutive(nums: number[]): number {
    if (nums.length === 0) return 0

    const sortedNums = nums.sort((a, b) => a - b)

    let length: number = 1
    let maxLength: number = 1
    for (let i = 0; i < sortedNums.length; i++) {
        if (sortedNums[i + 1] === sortedNums[i]) {
            continue
        }
        if (sortedNums[i + 1] === sortedNums[i] + 1) {
            length = length + 1
            if (length > maxLength) {
                maxLength = length
            }
        } else {
            length = 1
            continue
        }
    }

    return maxLength
}
```

#### 2.哈希set
利用哈希set数据结构本身内部去重的特点，通过输入的一维数字数组建立set，再通过一层循环遍历set来逐步更新得到最大连续长度，这里的关键在于通过查询当前数字在set中的前一位是否存在来判断该数字是不是一个连续序列的起点，如果不是而数字在set中的后一位存在则增加序列长度，每次循环结束将暂存的最大长度maxLength与当前长度Length做比较取最大值作为更新后的最大长度maxLength的值，最后返回maxLength即可。

时间复杂度：O(n)
```ts
function longestConsecutive(nums: number[]): number {
    if (nums.length === 0) return 0

    let numSet = new Set<number>(nums)
    let maxLength: number = 0

    for (const num of numSet) {
        if (!numSet.has(num - 1)) {
            let length: number = 1
            let tempNum: number = num + 1
            while (numSet.has(tempNum)) {
                length++
                tempNum++
            }
            maxLength = Math.max(maxLength, length)
        }
    }

    return maxLength
}
```

### 官方题解

## 总结