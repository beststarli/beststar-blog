---
title: 303.区域和检索-数组不可变
description: 给定一个整数数组nums，处理以下类型的多个查询：1.计算索引left和right（包含left和right）之间的nums元素的和，其中left<=right
sidebar_position: 11
tags: [LeetCode,前缀和,简单]
date: 2026-01-23
---

# 303.区域和检索-数组不可变
给定一个整数数组`nums`，处理以下类型的多个查询:
1.计算索引`left`和`right`（包含`left`和`right`）之间的`nums`元素的**和**，其中`left <= right`

实现 NumArray 类：
- `NumArray(int[] nums)`使用数组`nums`初始化对象
- `int sumRange(int left, int right)`返回数组`nums`中索引`left`和`right`之间的元素的**总和**，包含`left`和`right`两点（也就是`nums[left] + nums[left + 1] + ... + nums[right]`)

示例1：
- **输入**：
    - ["NumArray", "sumRange", "sumRange", "sumRange"]
    - [[[-2, 0, 3, -5, 2, -1]], [0, 2], [2, 5], [0, 5]]
- **输出**：[null, 1, -1, -3]
- **解释**：
    - NumArray numArray = new NumArray([-2, 0, 3, -5, 2, -1]);
    - numArray.sumRange(0, 2); // return 1 ((-2) + 0 + 3)
    - numArray.sumRange(2, 5); // return -1 (3 + (-5) + 2 + (-1)) 
    - numArray.sumRange(0, 5); // return -3 ((-2) + 0 + 3 + (-5) + 2 + (-1))

## 解题思路
### 个人题解
#### 1.计算输入数组遍历索引前所有数的和
本题思路很简单，就是将输入数组遍历，将当前索引之前的数字求和存入新的数组作为参考值，值得注意的是新数组长度为输入数组长度加1，且首个要素应为0即代表0个要素求和的结果，在typescript中，类属性需要显式声明类型和访问修饰符，因此注意为在类内部建立的新数组声明。

时间复杂度：O(n)
```ts
class NumArray {
    private s: number[]
    constructor(nums: number[]) {
        this.s = Array(nums.length + 1)
        this.s[0] = 0
        for (let i = 0; i < nums.length; i++) {
            this.s[i + 1] = this.s[i] + nums[i]
        }
    }

    sumRange(left: number, right: number): number {
        return this.s[right + 1] - this.s[left]
    }
}
```

### 官方题解

## 总结